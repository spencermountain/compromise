// Generated by CoffeeScript 1.6.3
var all, lala, lexicon, rules, tmp, _i, _ref, _results;

require("/Users/spencer/mountain/dirty");

lexicon = require("./lexicon").lexicon;

rules = require("./new_rules").rules;

rules = rules = [
  {
    reg: /.[pdltrkvyns]ing$/i,
    pos: 'JJ',
    strength: 942,
    errors: 280,
    accuracy: '0.70'
  }, {
    reg: /.[ia]sed$/i,
    pos: 'JJ',
    strength: 151,
    errors: 35,
    accuracy: '0.77'
  }, {
    reg: /.tions?$/i,
    pos: 'NN',
    strength: 71,
    errors: 21,
    accuracy: '0.70'
  }, {
    reg: /.[ilk]er$/i,
    pos: 'JJR',
    strength: 167,
    errors: 17,
    accuracy: '0.90'
  }, {
    reg: /.[nrtumcd]al$/i,
    pos: 'JJ',
    strength: 513,
    errors: 16,
    accuracy: '0.97'
  }, {
    reg: /.[icldtgrv]ent$/i,
    pos: 'JJ',
    strength: 214,
    errors: 14,
    accuracy: '0.93'
  }, {
    reg: /.[lsrnpb]ian$/i,
    pos: 'JJ',
    strength: 121,
    errors: 10,
    accuracy: '0.92'
  }, {
    reg: /.[oe]ry$/i,
    pos: 'JJ',
    strength: 150,
    errors: 10,
    accuracy: '0.93'
  }, {
    reg: /.[rdntk]ly$/i,
    pos: 'JJ',
    strength: 108,
    errors: 9,
    accuracy: '0.92'
  }, {
    reg: /.ike$/i,
    pos: 'JJ',
    strength: 71,
    errors: 8,
    accuracy: '0.89'
  }, {
    reg: /.ean$/i,
    pos: 'JJ',
    strength: 32,
    errors: 7,
    accuracy: '0.78'
  }, {
    reg: /.gled$/i,
    pos: 'JJ',
    strength: 16,
    errors: 7,
    accuracy: '0.56'
  }, {
    reg: /.ify$/i,
    pos: 'VB',
    strength: 49,
    errors: 7,
    accuracy: '0.86'
  }, {
    reg: /.nes$/i,
    pos: 'VB',
    strength: 27,
    errors: 7,
    accuracy: '0.74'
  }, {
    reg: /.gate$/i,
    pos: 'VB',
    strength: 23,
    errors: 6,
    accuracy: '0.74'
  }, {
    reg: /.fully$/i,
    pos: 'RB',
    strength: 13,
    errors: 6,
    accuracy: '0.54'
  }, {
    reg: /[bszmp]{2}y/,
    pos: 'JJ',
    strength: 95,
    errors: 6,
    accuracy: '0.94'
  }, {
    reg: /.ects$/i,
    pos: 'VB',
    strength: 30,
    errors: 6,
    accuracy: '0.80'
  }, {
    reg: /.ens$/i,
    pos: 'VB',
    strength: 42,
    errors: 6,
    accuracy: '0.86'
  }, {
    reg: /.ried$/i,
    pos: 'JJ',
    strength: 22,
    errors: 6,
    accuracy: '0.73'
  }, {
    reg: /.tures$/i,
    pos: 'NN',
    strength: 16,
    errors: 5,
    accuracy: '0.69'
  }, {
    reg: /.[rln]ates$/i,
    pos: 'VBZ',
    strength: 74,
    errors: 5,
    accuracy: '0.93'
  }, {
    reg: /.tized$/i,
    pos: 'VB',
    strength: 21,
    errors: 5,
    accuracy: '0.76'
  }, {
    reg: /.lar$/i,
    pos: 'JJ',
    strength: 83,
    errors: 5,
    accuracy: '0.94'
  }, {
    reg: /.bles$/i,
    pos: 'VB',
    strength: 20,
    errors: 4,
    accuracy: '0.80'
  }, {
    reg: /.ints$/i,
    pos: 'NN',
    strength: 11,
    errors: 4,
    accuracy: '0.64'
  }, {
    reg: /.oses$/i,
    pos: 'VB',
    strength: 22,
    errors: 4,
    accuracy: '0.82'
  }, {
    reg: /.[di]est$/i,
    pos: 'JJS',
    strength: 74,
    errors: 4,
    accuracy: '0.95'
  }, {
    reg: /.ishes$/i,
    pos: 'VB',
    strength: 21,
    errors: 4,
    accuracy: '0.81'
  }, {
    reg: /.zes$/i,
    pos: 'VB',
    strength: 54,
    errors: 4,
    accuracy: '0.93'
  }, {
    reg: /.pose$/i,
    pos: 'VB',
    strength: 19,
    errors: 4,
    accuracy: '0.79'
  }, {
    reg: /.[tnl]ary$/i,
    pos: 'JJ',
    strength: 87,
    errors: 4,
    accuracy: '0.95'
  }, {
    reg: /.ocks$/i,
    pos: 'NN',
    strength: 10,
    errors: 4,
    accuracy: '0.60'
  }, {
    reg: /.wards$/i,
    pos: 'RB',
    strength: 31,
    errors: 4,
    accuracy: '0.87'
  }, {
    reg: /.ices$/i,
    pos: 'NN',
    strength: 15,
    errors: 3,
    accuracy: '0.80'
  }, {
    reg: /.bound$/i,
    pos: 'JJ',
    strength: 22,
    errors: 3,
    accuracy: '0.86'
  }, {
    reg: /.teen(th)?$/i,
    pos: 'CD',
    strength: 17,
    errors: 3,
    accuracy: '0.82'
  }, {
    reg: /.*ould$/,
    pos: 'MD',
    strength: 3,
    errors: 3,
    accuracy: '0.00'
  }, {
    reg: /.ports$/i,
    pos: 'NN',
    strength: 9,
    errors: 3,
    accuracy: '0.67'
  }, {
    reg: /.oid$/i,
    pos: 'JJ',
    strength: 20,
    errors: 3,
    accuracy: '0.85'
  }, {
    reg: /.[gk]y$/i,
    pos: 'JJ',
    strength: 113,
    errors: 3,
    accuracy: '0.97'
  }, {
    reg: /.less$/i,
    pos: 'RB',
    strength: 11,
    errors: 3,
    accuracy: '0.73'
  }, {
    reg: /.ends$/i,
    pos: 'VB',
    strength: 24,
    errors: 3,
    accuracy: '0.88'
  }, {
    reg: /. of$/i,
    pos: 'RB',
    strength: 8,
    errors: 2,
    accuracy: '0.75'
  }, {
    reg: /^(un|de|re)\-[a-z]../i,
    pos: 'VB',
    strength: 44,
    errors: 2,
    accuracy: '0.95'
  }, {
    reg: /.ions$/i,
    pos: 'NN',
    strength: 9,
    errors: 2,
    accuracy: '0.78'
  }, {
    reg: /.[vrl]id$/i,
    pos: 'JJ',
    strength: 23,
    errors: 2,
    accuracy: '0.91'
  }, {
    reg: /.fore$/i,
    pos: 'RB',
    strength: 8,
    errors: 2,
    accuracy: '0.75'
  }, {
    reg: /.llen$/i,
    pos: 'JJ',
    strength: 8,
    errors: 2,
    accuracy: '0.75'
  }, {
    reg: /.[lnr]ize$/i,
    pos: 'VB',
    strength: 91,
    errors: 2,
    accuracy: '0.98'
  }, {
    reg: /.ances$/i,
    pos: 'NN',
    strength: 8,
    errors: 2,
    accuracy: '0.75'
  }, {
    reg: /.made$/i,
    pos: 'JJ',
    strength: 7,
    errors: 2,
    accuracy: '0.71'
  }, {
    reg: /.gone$/i,
    pos: 'JJ',
    strength: 7,
    errors: 2,
    accuracy: '0.71'
  }, {
    reg: /.ous$/i,
    pos: 'JJ',
    strength: 6,
    errors: 2,
    accuracy: '0.67'
  }, {
    reg: /.-ever$/i,
    pos: 'RB',
    strength: 10,
    errors: 2,
    accuracy: '0.80'
  }, {
    reg: /.[cts]hy$/i,
    pos: 'JJ',
    strength: 64,
    errors: 1,
    accuracy: '0.98'
  }, {
    reg: /.azy$/i,
    pos: 'JJ',
    strength: 7,
    errors: 1,
    accuracy: '0.86'
  }, {
    reg: /.fies$/i,
    pos: 'VB',
    strength: 30,
    errors: 1,
    accuracy: '0.97'
  }, {
    reg: /.rol$/i,
    pos: 'NN',
    strength: 7,
    errors: 1,
    accuracy: '0.86'
  }, {
    reg: /.tors$/i,
    pos: 'NN',
    strength: 7,
    errors: 1,
    accuracy: '0.86'
  }, {
    reg: /.where$/i,
    pos: 'RB',
    strength: 7,
    errors: 1,
    accuracy: '0.86'
  }, {
    reg: /.rmy$/i,
    pos: 'JJ',
    strength: 7,
    errors: 1,
    accuracy: '0.86'
  }, {
    reg: /.some$/i,
    pos: 'JJ',
    strength: 34,
    errors: 1,
    accuracy: '0.97'
  }, {
    reg: /.vice$/i,
    pos: 'NN',
    strength: 6,
    errors: 1,
    accuracy: '0.83'
  }, {
    reg: /.rough$/i,
    pos: 'JJ',
    strength: 6,
    errors: 1,
    accuracy: '0.83'
  }, {
    reg: /.mum$/i,
    pos: 'JJ',
    strength: 6,
    errors: 1,
    accuracy: '0.83'
  }, {
    reg: /.que$/i,
    pos: 'JJ',
    strength: 26,
    errors: 1,
    accuracy: '0.96'
  }, {
    reg: /.ieth$/i,
    pos: 'CD',
    strength: 5,
    errors: 1,
    accuracy: '0.80'
  }, {
    reg: /. so$/i,
    pos: 'RB',
    strength: 3,
    errors: 1,
    accuracy: '0.67'
  }, {
    reg: /.[st]ty$/i,
    pos: 'JJ',
    strength: 44,
    errors: 1,
    accuracy: '0.98'
  }, {
    reg: /[a-z]'s$/i,
    pos: 'NN',
    strength: 1,
    errors: 1,
    accuracy: '0.00'
  }, {
    reg: /.'n$/i,
    pos: 'VB',
    strength: 1,
    errors: 1,
    accuracy: '0.00'
  }, {
    reg: /^-?[0-9]+(.[0-9]+)?$/,
    pos: 'CD',
    strength: 1,
    errors: 1,
    accuracy: '0.00'
  }
];

tmp = (function() {
  _results = [];
  for (var _i = 0, _ref = rules.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }
  return _results;
}).apply(this);

all = Object.keys(lexicon).spigot(function(k) {
  return rules.some(function(r, i) {
    if (k.match(r.reg) && lexicon[k].toLowerCase().substr(0, 2) !== r.pos.toLowerCase()) {
      return tmp.push(i);
    }
  });
});

lala = [];

tmp.topk().each(function(t) {
  rules[t.value].pos = rules[t.value].pos.toUpperCase();
  rules[t.value].errors = t.count;
  rules[t.value].accuracy = Math.abs((t.count / rules[t.value].strength) - 1).toFixed(2);
  return lala.push(rules[t.value]);
});

console.log(lala);
