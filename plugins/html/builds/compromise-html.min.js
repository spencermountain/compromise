!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).compromiseHtml=n()}(this,(function(){"use strict";function e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var n=function e(n,t,r,o){var u;t[0]=0;for(var i=1;i<t.length;i++){var f=t[i++],s=t[i]?(t[0]|=f?1:2,r[t[i++]]):t[++i];3===f?o[0]=s:4===f?o[1]=Object.assign(o[1]||{},s):5===f?(o[1]=o[1]||{})[t[++i]]=s:6===f?o[1][t[++i]]+=s+"":f?(u=n.apply(s,e(n,s,r,["",null])),o.push(u),s[0]?t[0]|=2:(t[i-2]=0,t[i]=u)):o.push(s)}return o},t=new Map;var r=Object.freeze({__proto__:null,default:function(e){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(e)||(r.set(e,r=function(e){for(var n,t,r=1,o="",u="",i=[0],f=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,o):3===r&&(e||o)?(i.push(3,e,o),r=2):2===r&&"..."===o&&e?i.push(4,e,0):2===r&&o&&!e?i.push(5,0,!0,o):r>=5&&((o||!e&&5===r)&&(i.push(r,0,o,t),r=6),e&&(i.push(r,e,0,t),r=6)),o=""},s=0;s<e.length;s++){s&&(1===r&&f(),f(s));for(var a=0;a<e[s].length;a++)n=e[s][a],1===r?"<"===n?(f(),i=[i],r=3):o+=n:4===r?"--"===o&&">"===n?(r=1,o=""):o=n+o[0]:u?n===u?u="":o+=n:'"'===n||"'"===n?u=n:">"===n?(f(),r=1):r&&("="===n?(r=5,t=o,o=""):"/"===n&&(r<5||">"===e[s][a+1])?(f(),3===r&&(i=i[0]),r=i,(i=i[0]).push(2,0,r),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(f(),r=2):o+=n),3===r&&"!--"===o&&(r=4,i=i[0])}return f(),i}(e)),r),arguments,[])).length>1?r:r[0]}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o,u,i=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e,n){e.exports=function(){var e=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=function(e){return String(e).replace(/[&<>"']/g,(function(e){return"&"+t[e]+";"}))},t={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},r="dangerouslySetInnerHTML",o={className:"class",htmlFor:"for"},u={};function i(t,i){var f=[],s="";i=i||{};for(var a=arguments.length;a-- >2;)f.push(arguments[a]);if("function"==typeof t)return i.children=f.reverse(),t(i);if(t){if(s+="<"+t,i)for(var l in i)!1!==i[l]&&null!=i[l]&&l!==r&&(s+=" "+(o[l]?o[l]:n(l))+'="'+n(i[l])+'"');s+=">"}if(-1===e.indexOf(t)){if(i[r])s+=i[r].__html;else for(;f.length;){var p=f.pop();if(p)if(p.pop)for(var c=p.length;c--;)f.push(p[c]);else s+=!0===u[p]?p:n(p)}s+=t?"</"+t+">":""}return u[s]=!0,s}return i}()})),f=function(e){return e&&e.default||e}(r),s=function(n,t,r){var s=f.bind(i);r.bind&&(s=f.bind(r.bind));var a=[];return n.segment(t).forEach((function(n){var t=s(o||(o=e(["<span class=",">","</span>"])),n.segment,n.text);a.push(t)})),s(u||(u=e(["<pre>","</pre>"])),a)};return function(e){e.prototype.html=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e,n)}}}));
