!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).compromiseNgrams=r()}(this,(function(){"use strict";var t=4,r=1,n=function(t,r){var n={};return t.forEach((function(t){for(var o=0;o<t.length;o+=1){var e=t.slice(o,o+r);if(e.length===r){var i=e.join(" ");n.hasOwnProperty(i)?n[i].count+=1:n[i]={size:r,count:1}}}})),Object.keys(n).map((function(t){return n[t].normal=t,n[t]}))},o=function(o,e){e.size&&(e.min=e.size,e.max=e.size);for(var i=e.max||t,a=[],u=e.min||r;u<=i;u+=1)a=a.concat(n(o,u));return a},e=4,i=1,a=function(t,r){var n={};return t.forEach((function(t){for(var o=0;o<=t.length;o+=1){var e=t.slice(0,o);if(e.length===r){var i=e.join(" ");n.hasOwnProperty(i)?n[i].count+=1:n[i]={size:r,count:1}}}})),Object.keys(n).map((function(t){return n[t].normal=t,n[t]}))},u=function(t,r){r.size&&(r.min=r.size,r.max=r.size);for(var n=r.max||e,o=[],u=r.min||i;u<=n;u++)o=o.concat(a(t,u));return o},s=4,c=1,m=function(t,r){var n={};return t.forEach((function(t){for(var o=t.length,e=0;e<=t.length;e+=1){var i=t.slice(o-e,o);if(i.length===r){var a=i.join(" ");n.hasOwnProperty(a)?n[a].count+=1:n[a]={size:r,count:1}}}})),Object.keys(n).map((function(t){return n[t].normal=t,n[t]}))},p=function(t,r){r.size&&(r.min=r.size,r.max=r.size);for(var n=r.max||s,o=[],e=r.min||c;e<=n;e++)o=o.concat(m(t,e));return o},f=function(t){return t.json({terms:{clean:!0},text:!1}).map((function(t){return t.terms.map((function(t){return t.clean}))}))},y=function(t){return t=t.sort((function(t,r){return t.count>r.count?-1:t.count<r.count?1:t.size>r.size?-1:t.size<r.size?1:0}))};return function(t){t.prototype.ngrams=function(t){var r=f(this),n=o(r,t||{});return n=y(n)},t.prototype.nGrams=t.prototype.ngrams,t.prototype.unigrams=function(t){var r=o(f(this),{max:1,min:1});return r=y(r),"number"==typeof t&&(r=r[t]),r},t.prototype.uniGrams=t.prototype.unigrams,t.prototype.bigrams=function(t){var r=o(f(this),{max:2,min:2});return r=y(r),"number"==typeof t&&(r=r[t]),r},t.prototype.biGrams=t.prototype.bigrams,t.prototype.trigrams=function(t){var r=o(f(this),{max:3,min:3});return r=y(r),"number"==typeof t&&(r=r[t]),r},t.prototype.triGrams=t.prototype.trigrams,t.prototype.startgrams=function(t){var r=f(this),n=u(r,t||{});return n=y(n)},t.prototype.startGrams=t.prototype.startgrams,t.prototype.endgrams=function(t){var r=f(this),n=p(r,t||{});return n=y(n)},t.prototype.endGrams=t.prototype.endgrams,t.prototype.edgegrams=function(t){var r=f(this),n=u(r,t||{}),o=p(r,t||{}),e=n.concat(o).reduce((function(t,r){return t[r.normal]?t[r.normal].count+=r.count:t[r.normal]=r,t}),{}),i=Object.keys(e).map((function(t){return e[t]}));return i=y(i)},t.prototype.edgeGrams=t.prototype.edgegrams}}));
